import{_ as g,l as P,u as v,i as $,h as u,c as e,g as t,a as d,t as h,m as C,o,p as b,e as x}from"./entry.324623ff.js";import{u as _}from"./fetch.0b1a9f23.js";const E=n=>(b("data-v-9d88ca39"),n=n(),x(),n),M={key:0},F=E(()=>d("span",{class:"loading"},null,-1)),N=[F],B={key:1},I={key:2},L={key:0},S={key:1},T=["innerHTML"],D={__name:"[id]",async setup(n){let i,c;const r=P(),p=v(),{data:s,error:m,pending:y}=([i,c]=$(()=>_(()=>`/api/post/${r.params.id}`,"$eAxXoiP24p")),i=await i,c(),i);if(!s)throw u({statusCode:404,statusMessage:"Post Not Found"});const f=async l=>{if(!(await _(`/api/post/${r.params.id}`,{method:"DELETE"},"$uGRLes42Pr")).data)throw u({statusCode:404,statusMessage:"Post Not Found"});p.push("/")},k=async l=>{if(!(await _(`/api/publish/${r.params.id}`,{method:"PUT"},"$hMFutywGo7")).data)throw u({statusCode:404,statusMessage:"Post Not Found"});p.push("/")};return(l,a)=>(o(),e("div",null,[t(y)?(o(),e("p",M,N)):t(m)?(o(),e("p",B,"Error while fetching feed ðŸ’”")):(o(),e("main",I,[d("h2",null,h(t(s).title),1),t(s).author?(o(),e("p",L,"By "+h(t(s).author.name),1)):(o(),e("p",S,"Unknown author")),d("div",{innerHTML:t(s).content},null,8,T),t(s).published?C("",!0):(o(),e("button",{key:2,onClick:a[0]||(a[0]=w=>k(t(s).id))}," Publish ")),d("button",{onClick:a[1]||(a[1]=w=>f(t(s).id))},"Delete")]))]))}},G=g(D,[["__scopeId","data-v-9d88ca39"]]);export{G as default};
